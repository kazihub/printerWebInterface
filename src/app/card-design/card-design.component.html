<nz-spin [nzSpinning]="loading">
  <div class="container-fluid">
    <div class="row">
      <div class="col">
        <nz-button-group>
          <button nz-button nzType="primary" (click)="photo.click()">
            <i nz-icon nzType="folder" nzTheme="outline"></i>
          </button>
          <ng-container *ngFor="let control of mainControls">
            <ng-container *ngIf="control.handle === false">
              <button nz-button printSectionId="printsection" ngxPrint [useExistingCss]="true" nzType="primary" [disabled]="!printimage">
                <i nz-icon [nzType]="control.icon" nzTheme="outline"></i>
              </button>
            </ng-container>
            <ng-container *ngIf="control.handle !== false">
              <button nz-button (click)="control.handle()" nzType="primary">
                <i nz-icon [nzType]="control.icon" nzTheme="outline"></i>
              </button>
            </ng-container>
          </ng-container>
          <button nz-button [disabled]="list.length === 0" nzType="primary" (click)="printStuff()">
            <i nz-icon nzType="caret-right" nzTheme="outline"></i>
          </button>
        </nz-button-group>
        <input type="file" (change)="onFileChange($event)" #photo nz-input hidden>
        <nz-button-group class="m-l-20">
          <button nz-button *ngFor="let controls of textControls" (click)="controls.handle()" [disabled]="controls.disabled" nzType="primary">
            <i nz-icon [nzType]="controls.icon" nzTheme="outline"></i>
          </button>
        </nz-button-group>
        <nz-button-group class="m-l-20">
          <button nz-button nzType="default">
            <span>x: {{xposition}}</span>
          </button>
          <button nz-button nzType="default">
            <span>y: {{yposition}}</span>
          </button>
          <button nz-button nzType="primary" [disabled]="!edit" (click)="disableEditing()">
            <i nz-icon nzType="stop" nzTheme="outline"></i>
          </button>
          <button nz-button nzType="primary" [disabled]="edit" (click)="enableEditing()">
            <i nz-icon nzType="edit" nzTheme="outline"></i>
          </button>
          <button nz-button nzType="primary" (click)="saveTemp()" >
            <i nz-icon nzType="save" nzTheme="outline"></i>
          </button>
        </nz-button-group>
      </div>
    </div>
    <div class="row m-t-10">
      <div class="col-6">
        <div class="row">
          <div class="col-12">
            <nz-spin [nzSpinning]="processing">
              <div style="position: absolute; top: 0; bottom: 0; left: 0;right: 0; z-index: 900; display: none" id="disableOverlay"></div>
              <div [ngStyle]="{'background-image': 'url('+bgimage+')'}" class="grid-bg">
                <div class="grid-lines">
                  <div class="example-boundary grid-lines" id="printsection">
                    <template #textcontainer></template>
                    <template #imagecontainer></template>
                  </div>
                </div>
              </div>
            </nz-spin>
          </div>
        </div>
        <div class="row m-t-120">
          <div class="col-12">
            <img id="printhere" [src]="printimage" style="width: 100%; height: 100%;" hidden />
          </div>
        </div>
      </div>
      <div class="col-3">
        <template #setupcontainer></template>
      </div>
      <div class="col-3">
      </div>
    </div>
  </div>
</nz-spin>
